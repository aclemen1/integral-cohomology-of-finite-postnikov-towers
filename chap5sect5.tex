\section{Asymptotic behaviour of Poincar\'e series}
%\section{Proof of Lemma \ref{l:Serre improved}}

\begin{defn}\index{Poincar\'e formal series}
Let $G$ be a finitely generated $2$-torsion abelian group of type $(s_1,\dots,s_l)$. For all $0\leq\delta<n$ we define the free graded commutative algebra
$$
H^*_{[\delta]}(K\Sigma^n G)=\bigotimes_{j=1}^l\F_2[Sq^I_{s_j}u_j\ |\ \text{$I$ admissible and $e(I)<n-\delta$}]
$$ where $u_j\in H^n(K(\Z/2^{s_j},n);\Z/2)$ is the mod-$2$ reduction of the fundamental class for all $1\leq j\leq l$. Moreover we set $P_{[\delta]}(K\Sigma^n G)(t)=P(H^*_{[\delta]}(K\Sigma^n G),t)$, the Poincar\'e series.
\end{defn}

\begin{rem}
The polynomial algebra $H^*_{[\delta]}(K\Sigma^n G)$ is a sub-Hopf algebra of the differential, connected, bicommutative and primitive Hopf algebra $H^*(K(G,n);\F_2)$. But this is not a differential sub-Hopf algebra. To see this, suppose that $n\geq2$ is even. Consider $Sq^{n-2}u_n\in H^*_{[1]}(K\Sigma^n\Z/2)$. We have $Sq^1Sq^{n-2}u_n=Sq^{n-1}u_n\not\in H^*_{[1]}(K\Sigma^n\Z/2)$.
\end{rem}

\begin{lem}\label{l:a proof for Serre's result}
Let $G$ be a finitely generated $2$-torsion abelian group. For all $0\leq\delta<n$, we have the Poincar\'e series
\begin{align*}
P_{[\delta]}(K\Sigma^n G)(t)&=\prod_{h_1\geq\dots\geq h_{n-\delta-1}\geq0}\left({1\over1-t^{\delta+1+2^{h_1}+\dots+2^{h_{n-\delta-1}}}}\right)^{\rk(G)}.
\end{align*}
\end{lem}

\begin{proof}
For any admissible sequence $I$ of excess $e(I)<n-\delta$, the Poincar\'e series of $\F_2[Sq^I u_n]$ is given by
\begin{align*}
P(\F_2[Sq^I u_n],t)&=\sum_{i\geq0}\dim_{\F_2}\F_2[Sq^I u_n]\cdot t^i\\
&=\sum_{i\geq0}t^{i\deg(Sq^I u_n)}\\
&=\frac{1}{1-t^{deg(Sq^I u_n)}}\\
&=\frac{1}{1-t^{\degst(I)+n}}.\\
\end{align*}

Let us assume that $G\cong\bigoplus_{j=1}^l\Z/2^{s_j}$, where $l=\rk(G)$. We then have
\begin{align*}
H^*_{[\delta]}(K\Sigma^n G)&\cong H^*_{[\delta]}(K\Sigma^n\bigoplus_{j=1}^l\Z/2^{s_j})\\
&\cong\bigotimes_{j=1}^l H^*_{[\delta]}(K\Sigma^n \Z/2^{s_j})\\
&\cong\bigotimes_{j=1}^l H^*_{[\delta]}(K\Sigma^n \Z/2)\\
&\cong H^*_{[\delta]}(K\Sigma^n \Z/2)^{\otimes\rk(G)}\\
&\cong \F_2[Sq^I u_n\ |\ \text{$I$ admissible and $e(I)<n-\delta$}]^{\otimes\rk(G)}\\
&\cong (\bigotimes_{e(I)<n-\delta}\F_2[Sq^I u_n])^{\otimes\rk(G)}
\end{align*}

It is now easy to compute the Poincar\'e series of $H^*_{[\delta]}(K\Sigma^n G)$. The two above computations give
\begin{align*}
P(KH^*_{[\delta]}(\Sigma^n G),t)&=P\left(\left(\bigotimes_{e(I)<n-\delta}\F_2[Sq^I u_n]\right)^{\otimes\rk(G)},t\right)\\
&=P\left(\bigotimes_{e(I)<n-\delta}\F_2[Sq^I u_n],t\right)^{\rk(G)}\\
&=\left(\prod_{e(I)<n-\delta}P(\F_2[Sq^I u_n],t)\right)^{\rk(G)}\\
&=\left(\prod_{e(I)<n-\delta}\frac{1}{1-t^{\degst(I)+n}}\right)^{\rk(G)}\\
&=\prod_{e(I)<n-\delta}\left(\frac{1}{1-t^{\degst(I)+n}}\right)^{\rk(G)}.
\end{align*}

The next step in proving the Lemma consists in computing the number of admissible sequences $I$ such that $e(I)<n-\delta$ and $\degst(I)+n=N$ for a given integer $N$. Let $I=(a_0,\dots,a_k)$ be an admissible sequence. Set
\begin{align*}
\alpha_1&=a_0-2a_1,\\
\alpha_2&=a_1-2a_2,\\
\dots\\
\alpha_{k}&=a_{k-1}-2a_{k},\\
\alpha_{k+1}&=a_{k}\text{ and}\\
\alpha_0&=n-\delta-1-\sum_{i=1}^{k+1}\alpha_1.
\end{align*}
It is then very easy to verify that
\begin{align*}
&\sum_{i=0}^{k+1}\alpha_i=n-\delta-1\text{ and}\\
&N=\delta+1+\sum_{i=0}^{k+1}2^i\alpha_i.
\end{align*}
Since there are $n-\delta-1$ increasing powers of $2$ in $N-(\delta+1)$, we can write $N=\delta+1+2^{h_1}+\dots+2^{h_{n-\delta-1}}$ with $h_1\geq\dots\geq h_{n-\delta-1}$ and the desired result follows. This also proves Proposition \ref{p:Poincare serie for K(Z/2,n)}, if one set $\delta=0$.
\end{proof}

\begin{defn}\index{Poincar\'e series}
Let $G=\bigoplus_{d\geq1}\Sigma^d G_d$ be a locally finite $2$-torsion graded abelian group. For all $\delta\geq0$ we define the free graded commutative algebra
$$
H^*_{[\delta]}(KG)=\bigotimes_{d\geq\delta+1}H^*_{[\delta]}(K\Sigma^d G_d).
$$ Moreover we set 
$$
P_{[\delta]}(KG)(t)=\prod_{d\geq\delta+1}P_{[\delta]}(K\Sigma^d G_d)(t),
$$ where the product is the Cauchy's product of power series.
\end{defn}

\begin{defn}\index{Serre function@$\delta$-derived Serre function}\index{derived Serre function@$\delta$-derived Serre function}
Let $G=\bigoplus_{d\geq1}\Sigma^d G_d$ be a locally finite $2$-torsion graded abelian group. For all $\delta\geq0$, the {\bf $\delta$-derived Serre function} associated to $KG$ is the continuous map given by
$$
\varphi_{[\delta]}(KG)(x)=\log_2 P_{[\delta]}(KG)(1-2^{-x})
$$ for all $x\in[0,+\infty[$.
\end{defn}

\begin{lem}\label{l:first step towards Serre improved}
Let $G$ be a finitely generated $2$-torsion abelian group. For all $0\leq\delta<n$, we have the asymptotic growth formula
\begin{align*}
&\varphi_{[\delta]}(\Sigma^n G)(x)\sim \rk(G)\cdot\frac{x^{n-\delta}}{(n-\delta)!}\\ 
&\text{ i.e. }\lim_{x\to\infty}\frac{\varphi_{[\delta]}(\Sigma^n G)(x)}{\rk(G)\cdot\frac{x^{n-\delta}}{(n-\delta)!}}=1.
\end{align*}
\end{lem}

We need two technical results in order to prove this Lemma by induction. For all $n\geq q\geq1$, let $R_{n,q}$ denote the assertion ``$\varphi_{[n-q]}(\Sigma^n G)(x)\sim \rk(G)\cdot\frac{x^q}{q!}$''.

\begin{lem}\label{l:9.1-first step}
The assertion $R_{n,1}$ is true for all $n\geq1$.
\end{lem}

\begin{proof}
Suppose $q=1$ and $n\geq1$. The sequence $h_1\geq\dots\geq h_{q-1}\geq0$ is empty and then, by Lemma \ref{l:a proof for Serre's result}, we have 
$$
P_{[n-1]}(K\Sigma^n G)(t)=\left({1\over 1-t^n}\right)^{\rk(G)}=\left({1\over (1-t)f(t)}\right)^{\rk(G)}
$$ with $f(t)\in\Z[t]$ of degree $n-1$. The $(n-1)$-derived Serre function becomes
\begin{align*}
\varphi_{[n-1]}(K\Sigma^n G)(x) &=\log_2 P_{[n-1]}(K\Sigma^n G)(1-2^{-x})\\
&=\rk(G)(x-\log_2 f(1-2^{-x})).
\end{align*} Then we have clearly
$$
\lim_{x\to+\infty}{\varphi_{[n-1]}(K\Sigma^n G)(x)\over \rk(G)x}=\lim_{x\to+\infty}(1-{\log_2 f(1-2^{-x})\over x})=1.
$$
\end{proof}

\begin{lem}\label{l:9.1-induction}
If $R_{n,q}$ and $R_{n,q+1}$ are true, then $R_{n+1,q+1}$ is true.
\end{lem}

\begin{proof}
Let us consider the formal power serie
$$
\widetilde{P}_{[\delta]}(K\Sigma^n G)(t)=\prod_{h_1\geq\dots\geq h_{n-\delta-1}\geq0}\left({1\over1-t^{\delta+2^{h_1+1}+\dots+2^{h_{n-\delta-1}+1}}}\right)^{\rk(G)}.
$$
It is easy to verify that
$$
\widetilde{P}_{[n-q]}(K\Sigma^n G)(t)=P_{[n-q])}(K\Sigma^{n-1}G)(t)/P_{[n-q+1]}(K\Sigma^{n-1}G)(t).
$$
For all $0\leq t<1$, we have
$$
\widetilde{P}_{[n-q]}(K\Sigma^n G)(t)\leq P_{[n-q]}(K\Sigma^n G)(t)\leq P_{[n-q]}(K\Sigma^{n-1}G)(t)
$$ since $n-q+2^{h_1+1}+\dots+2^{h_{q-1}+1}\geq n-q+1+2^{h_1}+\dots+2^{h_{q-1}}\geq n-q+2^{h_1}+\dots+2^{h_{q-1}}$. Then for all $0\leq t<1$, we have
\begin{align*}
&P_{[n-q]}(K\Sigma^{n-1}G)(t)/P_{[n-q+1]}(K\Sigma^{n-1}G)(t)\\
&\qquad\leq P_{[n-q]}(K\Sigma^n G)(t)\\
&\qquad\qquad\leq P_{[n-q]}(K\Sigma^{n-1}G)(t)
\end{align*} and therefore, for all $x\in[0,\infty[$, we have
\begin{align*}
&\varphi_{[n-q]}(K\Sigma^{n-1}G)(x)-\varphi_{[n-q+1]}(K\Sigma^{n-1}G)(x)\\
&\qquad\leq\varphi_{[n-q]}(K\Sigma^n G)(x)\\
&\qquad\qquad\leq\varphi_{[n-q]}(K\Sigma^{n-1}G)(x).
\end{align*}
By hyphothesis 
\begin{align*}
\varphi_{[n-q]}(K\Sigma^{n-1}G)(x)\sim \rk(G){x^q\over q!}\text{\ \ \ and}\\
\varphi_{[n-q+1]}(K\Sigma^{n-1}G)(x)\sim \rk(G){x^{q-1}\over (q-1)!}. 
\end{align*}
Thus
\begin{align*}
&\varphi_{[n-q]}(K\Sigma^{n-1}G)(x)-\varphi_{[n-q+1]}(K\Sigma^{n-1}G)(x)\\
&\qquad\sim \rk(G){x^q\over q!}-\rk(G){x^{q-1}\over (q-1)!}\\
&\qquad\sim \rk(G){x^q\over q!}
\end{align*}
and the result follows.
\end{proof}

\begin{proof}[Proof of Lemma \ref{l:first step towards Serre improved}]
The problem can then be represented pictorially as follows:
$$
\xymatrix@R=0.2cm@C=0.2cm{
\\
&&&&&{\bf R_{5,5}}\\
&&&&{\bf R_{4,4}} &R_{5,4}\\
&&&{\bf R_{3,3}} &R_{4,3} &R_{5,3}\\
&&{\bf R_{2,2}} &R_{3,2} &R_{4,2} &R_{5,2}\\
&{\bf R_{1,1}} &{\bf R_{2,1}} &{\bf R_{3,1}} &{\bf R_{4,1}} &{\bf R_{5,1}}\\
\ar[uuuuuu]^q
\ar[rrrrrr]_-n &&&&&&
}
$$
where the sequences $R_{n,n}$ and $R_{n,1}$ are true assertions for all $n\geq1$ by the results of Serre (Theorem \ref{t:2.3-Serre}) and Lemma \ref{l:9.1-first step} respectively. Applying Lemma \ref{l:9.1-induction} to $R_{2,1}$ and $R_{2,2}$ proves $R_{3,2}$. Applying Lemma \ref{l:9.1-induction} to $R_{3,1}$ and $R_{3,2}$ proves $R_{4,2}$. By induction, $R_{n,2}$ is true for all $n\geq1$. By induction on the rows, it is easy to establish the result.
\end{proof}

\begin{lem}\label{l:Serre improved}
Let $G=\bigoplus_{d=1}^m\Sigma^d G_d$ be a finitely generated $2$-torsion graded abelian group. Assume that $KG$ is strictly $m$-anticonnected i.e. $G_m$ is non-trivial. For all $0\leq\delta<m$, we have the asymptotic growth formula
\begin{align*}
&\varphi_{[\delta]}(KG)(x)\sim \rk(G_m)\cdot\frac{x^{m-\delta}}{(m-\delta)!}\\ 
&\text{ i.e. }\lim_{x\to\infty}\frac{\varphi_{[\delta]}(KG)(x)}{\rk(G_m)\cdot\frac{x^{m-\delta}}{(m-\delta)!}}=1.
\end{align*}
\end{lem}

\begin{proof} %[Proof of Lemma \ref{l:Serre improved}]
We have
\begin{align*}
\varphi_{[\delta]}(KG)(x) &=\log_2 P_{[\delta]}(KG)(1-2^{-x}) &&\text{by definition,}\\
&=\log_2\prod_{d=\delta+1}^m P_{[\delta]}(K\Sigma^d G_d)(1-2^{-x}) &&\text{by definition,}\\
&=\sum_{d=\delta+1}^m\log_2 P_{[\delta]}(K\Sigma^d G_d)(1-2^{-x})\\
&=\sum_{d=\delta+1}^m\varphi_{[\delta]}(K\Sigma^d G_d)(x) &&\text{by definition,}\\
&\sim\sum_{d=\delta+1}^m\rk(G_d)\cdot\frac{x^{d-\delta}}{(d-\delta)!} &&\text{by Lemma \ref{l:first step towards Serre improved},}\\
&\sim\rk(G_m)\cdot\frac{x^{m-\delta}}{(m-\delta)!}.
\end{align*}
\end{proof}

\begin{rem*}
This lemma implies obviously that $\varphi_{[\delta]}(KG)(x)\sim\frac{d^\delta}{d x^\delta}\varphi_{[0]}(KG)(x)$. This justifies the terminology of {\it $\delta$-derived} function.
\end{rem*}

\endinput